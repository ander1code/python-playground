ğŸ“ Estrutura do App com Person

	âœ… 1. Modelo Person (models.py)
	
		from django.db import models

		class Person(models.Model):
			name = models.CharField(max_length=100)

			def __str__(self):
				return self.name

		ğŸ”¢ O campo id jÃ¡ Ã© criado automaticamente pelo Django.


	ğŸ‘ï¸ 2. Views GenÃ©ricas (views.py)

		from django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView
		from django.urls import reverse_lazy
		from .models import Person

		class PersonListView(ListView):
			model = Person
			template_name = 'person_list.html'

		class PersonDetailView(DetailView):
			model = Person
			template_name = 'person_detail.html'

		class PersonCreateView(CreateView):
			model = Person
			fields = ['name']
			template_name = 'person_form.html'
			success_url = reverse_lazy('person_list')

		class PersonUpdateView(UpdateView):
			model = Person
			fields = ['name']
			template_name = 'person_form.html'
			success_url = reverse_lazy('person_list')

		class PersonDeleteView(DeleteView):
			model = Person
			template_name = 'person_confirm_delete.html'
			success_url = reverse_lazy('person_list')



	ğŸŒ 3. URLs (urls.py)
		
		from django.urls import path
		from .views import (
			PersonListView,
			PersonDetailView,
			PersonCreateView,
			PersonUpdateView,
			PersonDeleteView
		)

		urlpatterns = [
			path('', PersonListView.as_view(), name='person_list'),
			path('person/<int:pk>/', PersonDetailView.as_view(), name='person_detail'),
			path('person/novo/', PersonCreateView.as_view(), name='person_create'),
			path('person/<int:pk>/editar/', PersonUpdateView.as_view(), name='person_update'),
			path('person/<int:pk>/excluir/', PersonDeleteView.as_view(), name='person_delete'),
		]

	ğŸ–¼ï¸ 4. Templates

		Crie esses arquivos em yourapp/templates/:

			ğŸ“„ person_list.html
			
				<h1>Lista de Pessoas</h1>
				<ul>
					{% for person in object_list %}
						<li><a href="{% url 'person_detail' person.pk %}">{{ person.name }}</a></li>
					{% empty %}
						<li>Nenhuma pessoa encontrada.</li>
					{% endfor %}
				</ul>
				<a href="{% url 'person_create' %}">Adicionar nova pessoa</a>


			ğŸ“„ person_detail.html
			
				<h2>{{ object.name }}</h2>
				<p>ID: {{ object.id }}</p>
				<a href="{% url 'person_update' object.pk %}">Editar</a> |
				<a href="{% url 'person_delete' object.pk %}">Excluir</a> |
				<a href="{% url 'person_list' %}">Voltar</a>


			ğŸ“„ person_form.html
			
				<h2>{% if object %}Editar{% else %}Nova{% endif %} Pessoa</h2>
				<form method="post">
					{% csrf_token %}
					{{ form.as_p }}
					<button type="submit">Salvar</button>
				</form>
				<a href="{% url 'person_list' %}">Cancelar</a>


			ğŸ“„ person_confirm_delete.html

				<h2>Tem certeza que deseja excluir "{{ object.name }}"?</h2>
				<form method="post">
					{% csrf_token %}
					<button type="submit">Sim, excluir</button>
				</form>
				<a href="{% url 'person_list' %}">Cancelar</a>

	âš™ï¸ 5. MigraÃ§Ã£o e ExecuÃ§Ã£o

		No terminal:

		# Criar o app se ainda nÃ£o existir
		
			python manage.py startapp yourapp

		# Adicionar 'yourapp' no settings.py > INSTALLED_APPS

		# Migrar banco
		
			python manage.py makemigrations
			
			python manage.py migrate

		# Rodar o servidor
		
			python manage.py runserver

	âœ… Resultado

		VocÃª terÃ¡:

		/ â€“ Lista de pessoas

		/person/1/ â€“ Detalhes da pessoa com ID 1

		/person/novo/ â€“ Criar nova pessoa

		/person/1/editar/ â€“ Editar pessoa

		/person/1/excluir/ â€“ Excluir pessoa
		
-------------------------

	E agora vocÃª quer adicionar uma validaÃ§Ã£o para o campo nome.

	âœ… 1. Supondo o model Pessoa
	
		# models.py
		from django.db import models

		class Pessoa(models.Model):
			nome = models.CharField(max_length=100)
			idade = models.IntegerField()


	âœ… 2. Criando o forms.py com validaÃ§Ã£o customizada para nome
	
		# forms.py
		from django import forms
		from .models import Pessoa

		class PessoaForm(forms.ModelForm):
			class Meta:
				model = Pessoa
				fields = ['nome', 'idade']

			def clean_nome(self):
				nome = self.cleaned_data.get('nome')
				if not nome:
					raise forms.ValidationError('O nome Ã© obrigatÃ³rio.')
				if len(nome) < 3:
					raise forms.ValidationError('O nome deve ter pelo menos 3 caracteres.')
				if any(char.isdigit() for char in nome):
					raise forms.ValidationError('O nome nÃ£o pode conter nÃºmeros.')
				return nome

	âœ… 3. Usando esse PessoaForm na sua Generic View
	
		# views.py
		from django.views.generic import CreateView
		from .models import Pessoa
		from .forms import PessoaForm
		from django.urls import reverse_lazy

		class PessoaCreateView(CreateView):
			model = Pessoa
			form_class = PessoaForm
			template_name = 'pessoa_form.html'
			success_url = reverse_lazy('lista-pessoas')

	âœ… 4. Atualizando o template para mostrar os erros

		VocÃª pode continuar com o form.as_p, ou â€” melhor â€” personalizar para exibir os erros 
		diretamente:

			{% extends 'index.html' %}
			{% block content %}
			  <form method="post" class="meu-formulario">
				{% csrf_token %}

				<div>
				  <label for="{{ form.nome.id_for_label }}">Nome:</label>
				  {{ form.nome }}
				  {% if form.nome.errors %}
					<div class="erro">
					  {{ form.nome.errors }}
					</div>
				  {% endif %}
				</div>

				<div>
				  <label for="{{ form.idade.id_for_label }}">Idade:</label>
				  {{ form.idade }}
				  {% if form.idade.errors %}
					<div class="erro">
					  {{ form.idade.errors }}
					</div>
				  {% endif %}
				</div>

				<input type="submit" value="Salvar">
			  </form>
			{% endblock %}

	ğŸ§ª ValidaÃ§Ãµes adicionadas ao nome:

	âœ… ObrigatÃ³rio

	âœ… MÃ­nimo de 3 caracteres

	âœ… NÃ£o pode conter nÃºmeros

	âœ… CSS opcional para exibir os erros
	.erro {
	  color: red;
	  font-size: 0.9em;
	  margin-top: 5px;
	}
	
Perfeito! Se vocÃª quer modificar somente o campo name usando um filtro, como adicionar uma classe CSS personalizada, vocÃª pode usar o famoso filtro add_class. Mas como falamos antes, ele nÃ£o vem por padrÃ£o no Django â€” vocÃª precisa criÃ¡-lo.

âœ… Objetivo:

VocÃª quer modificar isso:

{{ form.name }}


Para algo como:

{{ form.name|add_class:"form-control" }}


E aplicar CSS sÃ³ nesse campo.

âœ… Passo a passo para usar o filtro add_class
1. Crie o filtro add_class

ğŸ“ Dentro do seu app, crie a pasta templatetags, se ainda nÃ£o existir:

yourapp/
â”œâ”€â”€ templatetags/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ form_tags.py  â† vocÃª vai criar esse

2. CÃ³digo do filtro em form_tags.py
# yourapp/templatetags/form_tags.py

from django import template

register = template.Library()

@register.filter(name='add_class')
def add_class(field, css_class):
    return field.as_widget(attrs={'class': css_class})

3. Carregue o filtro no template

No topo do seu template, adicione:

{% load form_tags %}

âœ… Seu cÃ³digo final ficarÃ¡ assim:
{% extends 'index.html' %}
{% load form_tags %}  <!-- Carrega o filtro personalizado -->

{% block content %}
    <form method="post" class="my-form">
        {% csrf_token %}
        <div>
            <label for="{{ form.name.id_for_label }}">Name:</label>
            {{ form.name|add_class:"form-control" }}
            {% if form.name.errors %}
                <div class="erro">
                    {{ form.name.errors }}
                </div>
            {% endif %}
        </div>
        <input type="submit" value="Save">
    </form>
{% endblock %}

âœ… Exemplo de CSS que vocÃª pode aplicar
.form-control {
    border: 1px solid #ccc;
    padding: 10px;
    width: 100%;
    border-radius: 4px;
    font-size: 16px;
}

âš ï¸ Importante:

Depois de criar os filtros em templatetags, reinicie o servidor Django

A pasta templatetags precisa ter o arquivo __init__.py