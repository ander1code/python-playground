{% extends 'index.html' %}

{% block content %}
    <h1>Register</h1>
    <form action="{% url 'register' %}" method="POST">
        {% csrf_token %}
        <div>
            <input type="text" name="name" id="name">
            <input type="submit" value="REGISTER" style="cursor: pointer;">
        </div>
    </form>

    <hr>

    {% if people %}
        <h3>Registereds:</h3>
        <ul>
            {% for person in people %}
                <li>
                    {{ person }} 
                    <a href="#" onclick="confirmDelete('{% url 'delete' person.id %}'); return false;">delete</a>
                    <a href="{% url 'delete' person.id %}">delete</a>
                    <a href="{% url 'details' person.id %}">details</a>
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <script>
        function confirmDelete(link) {
            const opc = confirm("Do you want to delete this registration?");
            if (opc) {
                window.location.href = link;
            }
        }
    </script>
{% endblock %}
